<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="stylesheets/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
    <b-container id="app" class="app" fluid>
      <b-navbar class="main-nav" variant="primary" fixed="top" sticky type="dark" toggleable="sm">
        <b-container class="main-nav-wrap" fluid variant="primary">
          <b-navbar-nav>
            <b-navbar-brand>PERISC<b-icon-eye></b-icon-eye>PE</b-navbar-brand>
          </b-navbar-nav>
          <b-collapse is-nav id="periscope-nav">
            <b-navbar-nav>
              <b-nav-item to="/" left>Visits</b-nav-item>
              <b-nav-item to="/targets" left>Targets</b-nav-item>
            </b-navbar-nav>
            <b-nav-form class="main-nav-form ml-auto" right>
              <b-navbar-nav class="w-100">
                <b-form-input size="sm" class="mr-2 main-nav-form-item" placeholder="Search headers" name="search" v-model="search"></b-form-input>
                <b-button @click.stop.prevent="submit()" size="sm" variant="secondary" type="submit" class="main-nav-form-item">Search</b-button>
              </b-navbar-nav>
            </b-nav-form>
          </b-collapse>
          <b-navbar-toggle target="periscope-nav"></b-navbar-toggle>
        </b-container>
      </b-navbar>
      <b-container class="main-content" fluid>
        <router-view>
        </router-view>
      </b-container>
    </b-container>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>
    <link type="text/css" rel="stylesheet" href="//cdn.materialdesignicons.com/5.3.45/css/materialdesignicons.min.css" />
    <script src="https://unpkg.com/http-vue-loader"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="/router/index.js"></script>
  </body>
</html>

<script>
  const app = new Vue({
    el: "#app",
    router,
    data: function() {
      return {
        search: null
      }
    },
    methods: {
      submit: function(evt) {
        this.$router.push(`/search?q=${this.search}`);
      }
    }
  }).$mount('#app');
</script>